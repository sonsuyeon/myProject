<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" sec0ent="IE=edge" />
        <meta name="viewport" sec0ent="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="../assets/css/reset.css" />
        <link rel="stylesheet" href="../assets/css/jestina.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
        <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
        <link rel="stylesheet" href="../assets/css/default/animate.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/debug.addIndicators.min.js"></script>
        <script src="../assets/js/jestina.js"></script>
        <script src="../assets/js/swiper.js"></script>
    </head>
    <body class="jaward">
        <style>
            .jestina-detail__event {
                margin: 0 auto;
                width: 100%;
                width: 1140px;
            }
            /* tab menu */
            .tabV2024 {
                /* display: none; */
                position: absolute;
                max-width: 1140px !important;
                width: 100%;
                left: 0;
                z-index: 20;
                bottom: 0;
                background: #151628;
            }
            .tabV2024.fixed {
                display: block;
                position: fixed;
                max-width: 1140px !important;
                width: 100%;
                left: 50%;
                transform: translateX(-50%);
                z-index: 20;
                top: 0;
                bottom: inherit;
                background: #151628;
            }
            .tabV2024 ul {
                display: flex;
                margin: 0 auto;
            }
            .tabV2024 li {
                text-align: center;
                width: auto;
                display: block;
            }
            .tabV2024 li:last-child a:after {
                display: none;
            }
            .tabV2024 li a {
                display: block;
                width: 100%;
            }
            .tabV2024 li a img.on {
                display: none;
            }
            .tabV2024 li a img.off {
                display: block;
            }
            .tabV2024 li a.active img.on {
                display: block;
            }
            .tabV2024 li a.active img.off {
                display: none !important;
            }
            /* main */
            .event_sec-wrap {
                position: relative;
            }
            .event_btn {
                position: absolute;
                display: block;
                width: 266px;
                height: 71px;
                left: 50%;
                transform: translateX(-50%);
                font-size: 0;
            }
            .event_sec.sec01 .event_btn.btn1 {
                top: 458px;
            }
            .event_sec.sec01 .event_btn.btn2 {
                top: 996px;
            }
            .event_sec.sec01 .event_btn.btn3 {
                top: 1673px;
            }
            .event_sec.sec02 .event_btn {
                top: 347px;
                left: 12.7%;
                transform: initial;
            }
            .event_btn-percent {
                position: absolute;
                font-family: "GmarketSans" !important;
                font-size: 19px;
                font-weight: 500;
                color: #3c3c3c;
                left: 55%;
                top: 11.9%;
            }
            .event_sec {
                position: relative;
            }
            /* 노티스 */
            .notice_wrap {
                position: relative;
                top: 0;
                width: 100%;
                margin: 0 auto !important;
                color: #fff;
                background: #000;
            }
            .notice_wrap .notice_list dt a::before {
                display: inline-block;
                content: "";
                width: 24%;
                height: 58%;
                position: absolute;
                top: 20%;
                left: 50%;
                transform: translateX(-50%);
            }
            .notice_wrap .notice_list dt {
                text-align: center;
            }
            .notice_wrap .notice_list dt a {
                position: relative;
                display: block;
                -webkit-box-sizing: border-box;
                box-sizing: border-box;
                font-size: 20px;
                font-weight: 600;
                color: #fff;
                text-decoration: none;
                text-transform: uppercase;
                -webkit-transition: all 0.25s;
                transition: all 0.25s;
                padding: 20px 0 !important;
                font-family: "Roboto", sans-serif !important;
            }
            .notice_wrap .notice_list dt a::after {
                display: inline-block;
                content: "";
                margin: -6px 0 0 8px;
                padding: 2.5px;
                border: solid #fff;
                border-width: 0 1px 1px 0;
                vertical-align: middle;
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
                -webkit-transition: all 0.25s;
                transition: all 0.25s;
            }
            .notice_wrap .notice_list dd {
                padding: 15px 0 20px;
                margin: 0 20px;
                display: none;
            }
            .notice_wrap .notice_list dd h3 {
                width: 100%;
                max-width: 940px;
                margin: 0 auto;
                text-align: center;
                font-size: 16px;
                font-weight: 300;
                line-height: 32px;
                color: #fff;
            }
            .notice_wrap .notice_list .open {
                background: transparent;
            }
            .notice_wrap .notice_list .open::after {
                margin-top: 3px;
                -webkit-transform: rotate(-135deg);
                transform: rotate(-135deg);
            }
            .notice_wrap .notice_list .notice_cont {
                margin: 0 auto 20px;
                padding: 0;
                width: 89%;
                max-width: 100%;
            }
            .notice_wrap .notice_list .notice_cont li {
                list-style: none;
            }
            .notice_wrap .notice_list .notice_cont li + li {
                margin-top: 0.5rem;
            }
            .notice_wrap .notice_list .notice_cont li h2 {
                margin: 0;
                font-size: 18px;
                font-weight: 600;
                line-height: 1.5;
                margin-bottom: 5px;
                color: #fff;
                text-align: left;
                font-family: "Noto Sans KR", sans-serif !important;
            }
            .notice_wrap .notice_list .notice_cont li p {
                position: relative;
                margin-bottom: 4px;
                padding-left: 10px;
                font-weight: 400;
                text-align: left;
                font-size: 16px;
                line-height: 1.5;
                color: #fff;
                word-break: keep-all;
                word-wrap: break-word;
                font-family: "Noto Sans KR", sans-serif !important;
            }
            .notice_wrap .notice_list .notice_cont li p:before {
                position: absolute;
                left: 0;
                top: 10px;
                display: block;
                content: "";
                width: 4px;
                height: 1px;
                background-color: #fff;
            }
            .notice_wrap04 {
                margin-bottom: 64px !important;
            }
            @keyframes download {
                0% {
                    right: 22%;
                }
                100% {
                    right: 17%;
                }
            }
            .event_link-wrap {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                width: 100%;
                max-width: 607px;
                height: 240px;
            }
            .event_link-wrap.wrap01 {
                top: 339px;
            }
            .event_link {
                width: 32%;
            }
            .event_link-wrap.wrap02 {
                top: 826px;
            }

            /* 팝업 */
            .layerPop {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                overflow: hidden;
                padding: 20px;
                text-align: center;
                width: 100%;
                height: 100%;
                z-index: 10000;
                background: rgba(0, 0, 0, 0.7);
            }
            .layerPop > .content {
                display: inline-block;
                position: relative;
                top: 50%;
                overflow: hidden;
                background: transparent;
                transform: translate(0, -50%) !important;
                -webkit-transform: translate(0, -50%);
                -moz-transform: translate(0, -50%);
            }
            .layerPop > .content img {
                width: auto !important;
            }
            .layerPop > .content button {
                position: absolute;
                top: 3%;
                right: 2%;
                width: 13%;
                height: 33px;
                font: 0/0 a;
                outline: none;
                background: none;
                cursor: pointer;
                border: none;
            }
            .machine_wrap {
                position: absolute;
                top: 12.4%;
                left: 56.87%;
                width: 346px;
                height: 546px;
                /* background: #bd7587ad; */
                /* mix-blend-mode: color-burn; */
                /* opacity: 0.5; */
            }
            .machine_box {
                position: absolute;
                width: 100%;
                height: 100%;
                background-image: url(https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_machine.png);
                z-index: 20;
                background-size: 100% 100%;
            }
            .draw_item {
                position: absolute;
                width: 110px;
                height: 118px;
                /* background: #bd7587ad; */
                background-size: 100% 100%;
                border-radius: 50%;
                /* mix-blend-mode: color-dodge; */
                z-index: 10;
            }
            .draw_item img {
                width: 100%;
            }
            .draw_item.item01 {
                top: 16.2%;
                left: 48%;
                width: 118px;
                height: 116px;
                opacity: 0.5;
            }
            .draw_item.item02 {
                top: 16.2%;
                left: 19%;
                width: 116px;
                height: 114px;
            }
            .draw_item.item03 {
                top: 31.1%;
                left: 34%;
                width: 114px;
                height: 112px;
            }
            .draw_item.item04 {
                top: 31.2%;
                left: 63.1%;
                width: 114px;
                height: 114px;
            }
            .draw_item.item05 {
                top: 44.6%;
                left: 47%;
                width: 114px;
                height: 114px;
            }
            .draw_item.item06 {
                top: 44.6%;
                left: 19.7%;
                width: 116px;
                height: 114px;
            }
            .draw_item.item07 {
                top: 31.6%;
                left: 5.5%;
                width: 114px;
                height: 114px;
            }
            @keyframes bounce {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-30px);
                }
                60% {
                    transform: translateY(-15px);
                }
            }
            .machine_wrap .bounce {
                animation-name: bounce;
            }
            @keyframes bounce2 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-60px);
                }
                60% {
                    transform: translateY(-15px);
                }
            }
            .machine_wrap .bounce2 {
                animation-name: bounce2;
            }
            @keyframes bounce3 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-10px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce3 {
                animation-name: bounce3;
            }
            @keyframes bounce4 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-50px);
                }
                60% {
                    transform: translateY(-10px);
                }
            }
            .machine_wrap .bounce4 {
                animation-name: bounce4;
            }
            @keyframes bounce5 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-20px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce5 {
                animation-name: bounce5;
            }
            @keyframes bounce6 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-40px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce6 {
                animation-name: bounce6;
            }
            @keyframes bounce7 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-60px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce7 {
                animation-name: bounce7;
            }
            @keyframes bounce8 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-40px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce8 {
                animation-name: bounce8;
            }
            @keyframes bounce9 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-40px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce9 {
                animation-name: bounce9;
            }
            @keyframes bounce10 {
                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateY(0);
                }
                40% {
                    transform: translateY(-40px);
                }
                60% {
                    transform: translateY(-5px);
                }
            }
            .machine_wrap .bounce10 {
                animation-name: bounce10;
            }
            @keyframes bounceOutDown {
                0% {
                    transform: translateY(0);
                }
                20% {
                    opacity: 1;
                    transform: translateY(-50px);
                }
                100% {
                    opacity: 0;
                    transform: translateY(2000px);
                }
            }
            .machine_wrap .bounceOutDown {
                animation-name: bounceOutDown;
                animation-duration: 1s;
                animation-fill-mode: both;
                animation-timing-function: ease-in-out;
                animation-delay: 0.5s;
            }
        </style>
        <main class="jestina-detail__event jestina-sub-project__wrap tabContent2024">
            <section class="event_sec sec_main">
                <nav class="tabV2024 tabScrollFixed" id="tab">
                    <ul>
                        <li class="tab2024_1">
                            <a href="#contentV2024_1">
                                <img class="off w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/tab_btn01_off.png" />
                                <img class="on w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/tab_btn01_on.png" />
                            </a>
                        </li>
                        <li class="tab2024_2">
                            <a href="#contentV2024_2">
                                <img class="off w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/tab_btn02_off.png" />
                                <img class="on w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/tab_btn02_on.png" />
                            </a>
                        </li>
                        <li class="tab2024_3">
                            <a href="#contentV2024_3">
                                <img class="off w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/tab_btn03_off.png" />
                                <img class="on w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/tab_btn03_on.png" />
                            </a>
                        </li>
                    </ul>
                </nav>
                <img class="w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/sec_visual.jpg" />
            </section>
            <section class="jestina-detail__event-wrap event_sec-wrap">
                <section class="event_sec sec01 end" id="contentV2024_1">
                    <span class="event_btn-percent">???회</span>
                    <button type="button" class="event_btn btn1" onclick="openModal('modal1')">연말 결산 쿠폰</button>
                    <button type="button" class="event_btn btn2" onclick="openModal('modal2')">재구매 쿠폰</button>
                    <button type="button" class="event_btn btn3" onclick="openModal('modal3')">카드사 할인 쿠폰</button>
                    <img class="w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/sec01.jpg" />
                </section>
                <section class="notice_wrap notice_wrap01">
                    <dl class="notice_list">
                        <dt><a href="#" class="close">NOTICE</a></dt>
                        <dd>
                            <ul class="notice_cont">
                                <li>
                                    <h2># 연말 결산 쿠폰</h2>
                                    <p>본 더블 쿠폰은 금년도 누적 구매 확정 횟수에 따라 차등 지급 되며, 이벤트 기간 내 다운로드 한 고객에 한 해 마이페이지 쿠폰관리에서 확인 가능합니다.</p>
                                    <p>본 더블 쿠폰은 ID당 1회 다운로드가 가능하며, 2024. 12. 31(화) 까지 사용 가능합니다.</p>
                                    <p>본 더블 쿠폰은 0원 이상 구매 시 사용 가능하며, 일부 상품의 경우 쿠폰 적용이 불가 할 수 있습니다.</p>
                                    <p>사용한 쿠폰은 취소, 반품 시 재발행 되지 않으며 유효기간 내 미 사용 시 자동 소멸됩니다.</p>
                                    <p>본 이벤트는 당사의 사정에 의해 예고 없이 변경 또는 종료될 수 있습니다.</p>
                                </li>
                            </ul>
                            <ul class="notice_cont">
                                <li>
                                    <h2># 재구매 쿠폰</h2>
                                    <p>본 더블 쿠폰은 당월 구매 이력이 있는 고객 대상으로 이벤트 기간 내 다운로드 한 고객에 한 해 마이페이지 쿠폰관리에서 확인 가능합니다.</p>
                                    <p>본 더블 쿠폰은 ID당 1회 다운로드가 가능하며, 2024. 12. 31(화) 까지 사용 가능합니다.</p>
                                    <p>본 더블 쿠폰은 7만원 이상 구매 시 사용 가능하며, 일부 상품의 경우 쿠폰 적용이 불가 할 수 있습니다.</p>
                                    <p>사용한 쿠폰은 취소, 반품 시 재발행 되지 않으며 유효기간 내 미 사용 시 자동 소멸됩니다.</p>
                                    <p>본 이벤트는 당사의 사정에 의해 예고 없이 변경 또는 종료될 수 있습니다.</p>
                                </li>
                            </ul>
                            <ul class="notice_cont">
                                <li>
                                    <h2># 카드사 할인</h2>
                                    <p>본 카드사 즉시 할인은 선착순 혜택이며 사전 예고없이 조기 종료될 수 있습니다.</p>
                                    <p>본 카드사는 비씨카드, 국민카드, 신한카드, 현대카드 진행 예정입니다.</p>
                                    <p>본 카드사 즉시 할인은 1만원: 10만원 이상 / 2만원: 20만원 이상 / 3만원: 30만원 이상 결제 시 사용 가능합니다.</p>
                                </li>
                            </ul>
                        </dd>
                    </dl>
                </section>
                <section class="event_sec sec02" id="contentV2024_2">
                    <img class="w100" style="mix-blend-mode: color-burn; opacity: 0.7" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/sec02Bg.jpg" />
                    <button type="button" class="event_btn btn1" onclick="openModal('modal4')">start</button>
                    <div class="machine_wrap">
                        <div class="machine_box"></div>
                        <div class="draw_item item01 animated bounce2"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item01.png" alt="" /></div>
                        <div class="draw_item item02 animated bounce2"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item02.png" alt="" /></div>
                        <div class="draw_item item03 animated bounce10"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item03.png" alt="" /></div>
                        <div class="draw_item item04 animated bounce10"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item04.png" alt="" /></div>
                        <div class="draw_item item05 animated bounce7"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item05.png" alt="" /></div>
                        <div class="draw_item item06 animated bounce7"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item06.png" alt="" /></div>
                        <div class="draw_item item07 animated bounce"><img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/drawing_item07.png" alt="" /></div>
                    </div>
                </section>
                <section class="notice_wrap notice_wrap02">
                    <dl class="notice_list">
                        <dt><a href="#" class="close">NOTICE</a></dt>
                        <dd>
                            <ul class="notice_cont">
                                <li>
                                    <h2># 결산 뽑기 혜택</h2>
                                    <p>본 이벤트는 금년도 결제 이력이 있다면 누구나 참여 가능합니다.</p>
                                    <p>당첨자는 2025. 01. 09(월) Jmall 공지사항을 통해 안내됩니다.</p>
                                    <p>본 경품의 제세공과금 22%는 제이에스티나에서 부담합니다. (주얼리, 핸드백)</p>
                                    <p>당첨된 경품은 입력된 주소지로 발송되니 마이페이지 내 회원정보를 최신정보로 업데이트 바랍니다.</p>
                                    <p>당첨된 기프티콘은 고객님의 연락처로 발송 되니, 고객님의 회원 정보를 최신 정보로 업데이트 바랍니다.</p>
                                    <p>회원정보 미입력/오기재 시 경품 당첨 및 지급이 취소 될 수 있습니다.</p>
                                    <p>본 이벤트는 당사의 사정에 의해 사전 고지 없이 변경 또는 종료될 수 있습니다.</p>
                                </li>
                            </ul>
                        </dd>
                    </dl>
                </section>
                <section class="event_sec sec03" id="contentV2024_3">
                    <div class="event_link-wrap wrap01">
                        <a href="https://www.jestina.co.kr/products/view/G2000025830" class="event_link"> </a>
                        <a href="https://www.jestina.co.kr/products/view/G2000026568" class="event_link"> </a>
                        <a href="https://www.jestina.co.kr/products/view/G2000025501" class="event_link"> </a>
                    </div>
                    <div class="event_link-wrap wrap02">
                        <a href="https://www.jestina.co.kr/products/view/G2000027054" class="event_link"> </a>
                        <a href="https://www.jestina.co.kr/products/view/G2000026768" class="event_link"> </a>
                        <a href="https://www.jestina.co.kr/products/view/G2000025061" class="event_link"> </a>
                    </div>
                    <img class="w100" src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/sec03.jpg" />
                </section>
            </section>
        </main>
        <a name="contentBottom" class="contentBottom"></a>

        <!-- 팝업 -->
        <div class="layerPop modal1" style="display: none">
            <div class="content" style="opacity: 1">
                <!-- 파일명 pop01_10 = 10% / pop01_7 = 7% / pop01_5 = 5%  -->
                <img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/pop01_10.jpg" />
                <button type="button" onclick="fn_layer_close(this)">확인</button>
            </div>
        </div>
        <div class="layerPop modal2" style="display: none">
            <div class="content" style="opacity: 1">
                <img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/pop02.jpg" />
                <button type="button" onclick="fn_layer_close(this)">확인</button>
            </div>
        </div>
        <div class="layerPop modal3" style="display: none">
            <div class="content" style="opacity: 1">
                <img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/pop03.jpg" />
                <button type="button" onclick="fn_layer_close(this)">확인</button>
            </div>
        </div>
        <div class="layerPop modal4" style="display: none">
            <div class="content" style="opacity: 1">
                <img src="https://webimg.jestina.co.kr/UpData/jestina/2024/event/1122_j_awards_24/pop04.jpg" />
                <button type="button" onclick="fn_layer_close(this)">확인</button>
            </div>
        </div>
        <script>
            const vacance_8_eventId = "${event.eventId}"; //이벤트 키값
            // let startEndDT          = getStartEndDT();
            // let startDate           = startEndDT[0];
            // let endDate             = startEndDT[1];
            const ticketCountSpan = document.getElementById("ticket_count"); //비행기 출발 티켓 span
            const vacance_8_startBtn = document.getElementById("startBtn"); //시작버튼
            const vacance_8_closeBtn = document.getElementById("closeBtn"); //팝업닫기버튼
            const ca = /\+/g;
            //기준값 처리
            function fnLateVacanceDefault() {
                let isClick = false;

                return {
                    setDefault: (type, value) => {
                        if (type === "isClick") {
                            isClick = value;
                        }
                    },
                    getDefault: (type) => {
                        if (type === "isClick") {
                            return isClick;
                        }
                    },
                };
            }
            const lateVacanceDefault = fnLateVacanceDefault();

            //[0]문서 시작
            document.addEventListener("DOMContentLoaded", (event) => {
                //[0-1]비행기 출발티켓 개수
                if (!Common.isLogin()) {
                    ticketCountSpan.innerText = "??";
                } else {
                    $.ajax({
                        type: "get",
                        url: Shop.url("/event/getLateVacanceTicketCount"),
                        dataType: "json",
                        data: { eventId: vacance_8_eventId },
                        success: function (response) {
                            console.log("response.isSuccess: ", response.isSuccess);
                            if (!response.isSuccess) {
                                console.log("getLateVacanceTicketCount done error: ", response.errorMessage);
                                ticketCountSpan.innerText = "??";
                                return false;
                            }
                            let rData = JSON.parse(response.data.replace(ca, " "));
                            console.log("rData: ", rData);
                            console.log("getLateVacanceTicketCount > eventTicketCount: ", rData.eventTicketCount);
                            ticketCountSpan.innerText = rData.eventTicketCount;
                        },
                        error: function (data, textStatus, errorThrown) {
                            console.log("getLateVacanceTicketCount error: ", data);
                            ticketCountSpan.innerText = "??";
                        },
                    });
                }
            });
            //[1]경품받기 이벤트(비행기 출발)
            vacance_8_startBtn.addEventListener("click", async (event) => {
                //[1-0]중복 클릭
                if (lateVacanceDefault.getDefault("isClick") === true) {
                    alert("당첨 확인 중입니다.");
                    return false;
                }
                //[1-1]로그인 체크
                if (!Common.isLogin()) {
                    if (confirm("로그인 후 참여 가능합니다.")) {
                        window.location.href = Shop.url("/users/login?target=/event/pages/vacance_8");
                    }
                    return false;
                }
                if (ticketCountSpan.innerText === "??" || ticketCountSpan.innerText === "0") {
                    alert("보유한 티켓이 없습니다.");
                    return false;
                }
                //[1-2]경품 받기 로직
                try {
                    lateVacanceDefault.setDefault("isClick", true); //경품받기 클릭여부
                    //[1-3]로직 결과값 -> 남은 티켓 개수, 당첨경품
                    let response = await startLateVacance(); //경품 뽑기
                    let rData = JSON.parse(response.data.replace(ca, " "));
                    console.log("rData: ", rData);
                    ticketCountSpan.innerText = rData.eventTicketCount; //남은 티켓수

                    if (rData.eventTicketResult === "꽝") {
                        await makePlaneAnimation("N");
                        alert("꽝입니다. 다시 참여해주세요.");
                        ticketCountSpan.innerText = rData.eventTicketCount; //남은 티켓수
                        lateVacanceDefault.setDefault("isClick", false);
                        return false;
                    } else {
                        //[1-4]팝업 이미지 변경
                        let imgFileName = "";
                        let imgUrl = "https://webimg.jestina.co.kr/UpData/jestina/event/230804_vacance_8/";
                        if ("1천포인트" === rData.eventTicketResult) {
                            imgFileName = "m_pop08.jpg";
                        } else if ("3천포인트" === rData.eventTicketResult) {
                            imgFileName = "m_pop09.jpg";
                        } else if ("5천포인트" === rData.eventTicketResult) {
                            imgFileName = "m_pop10.jpg";
                        } else if ("7천포인트" === rData.eventTicketResult) {
                            imgFileName = "m_pop11.jpg";
                        } else if ("박카스" === rData.eventTicketResult) {
                            imgFileName = "m_pop01.jpg";
                        } else if ("베라" === rData.eventTicketResult) {
                            imgFileName = "m_pop02.jpg";
                        } else if ("스벅" === rData.eventTicketResult) {
                            imgFileName = "m_pop04.jpg";
                        } else if ("올리브영" === rData.eventTicketResult) {
                            imgFileName = "m_pop05.jpg";
                        } else if ("왓챠" === rData.eventTicketResult) {
                            imgFileName = "m_pop06.jpg";
                        } else if ("비치타올" === rData.eventTicketResult) {
                            imgFileName = "m_pop03.jpg";
                        } else {
                            await makePlaneAnimation("N");
                            alert("꽝입니다. 다시 참여해주세요.");
                            ticketCountSpan.innerText = rData.eventTicketCount; //남은 티켓수
                            lateVacanceDefault.setDefault("isClick", false);
                            return false;
                        }
                        imgUrl += imgFileName;
                        document.getElementById("layerPopup").querySelector("img").src = imgUrl;
                        //[1-5]애니메이션 및 당첨레이어팝업 이미지변경
                        await makePlaneAnimation("Y");
                        lateVacanceDefault.setDefault("isClick", false);
                    }
                } catch (e) {
                    console.log("getServiceList - e : ", e);
                    lateVacanceDefault.setDefault("isClick", false);
                    alert("오류가 발생했습니다.\n잠시 후 다시 시도해주세요.");
                    return false;
                }
            });
            //[2]경품확인화면 닫기
            vacance_8_closeBtn.addEventListener("click", (event) => {
                $("#layerPopup").fadeOut(function () {
                    $("body").css("overflow", "auto");
                    $(".icon").css({ top: "-7%", left: "3%", opacity: "1" });
                    $(".m_icon").css({ top: "-7%", left: "3%", opacity: "1" });
                });
            });
            //[3]경품 받기 로직
            function startLateVacance() {
                return new Promise((resolve, reject) => {
                    let param = { eventId: vacance_8_eventId };
                    $.post(Shop.url("/event/useLateVacanceTicket"), param, function (response) {
                        if (!response.isSuccess) {
                            reject(response);
                        }
                        resolve(response);
                    }).fail((xhr, textStatus, errorThrown) => {
                        reject(textStatus);
                    });
                });
            }
            //[4]애니메이션 처리
            function makePlaneAnimation(hasReward) {
                return new Promise((resolve, reject) => {
                    const m_icon = $(".m_icon"); //mo
                    m_icon.animate({ left: "83%" }, 160);
                    m_icon.animate({ top: "93%" }, 210);
                    m_icon.animate({ left: "3%" }, 260);
                    m_icon.animate({ top: "-7%" }, 320);
                    m_icon.animate({ left: "83%" }, 400);
                    m_icon.animate({ top: "93%" }, 470);
                    m_icon.animate({ left: "-3%", opacity: 0.5 }, 570);
                    m_icon.animate({ top: "-7%", opacity: 0 }, 640, function () {
                        //당첨
                        if ("Y" === hasReward) {
                            $("#layerPopup").fadeIn(function () {
                                $("body").css("overflow", "hidden");
                                resolve("success");
                            });
                        } else {
                            resolve("success");
                        }
                    });
                });
            }
        </script>
    </body>
</html>
